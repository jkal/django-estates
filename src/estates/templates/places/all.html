{% extends "base.html" %}
{% load pagination_tags %}
{% load i18n %}

{% block title %} 
    {% blocktrans %}All places{% endblocktrans %}
{% endblock %}

{% block head %}
<script type="text/javascript" charset="utf-8">
$(document).ready(function() {
    $('#filter-button').click( function() {
        q = $('#filter-input').val();
     $('#results').html('&nbsp;').load('/places/?q=' + q);
 });
});
</script>
{% endblock %}

{% block content %} 

<ul id="posts">
    <noscript>{% trans 'This page requires JavaScript enabled. Defaulting to plain view.' %}</noscript>
    
    <li class="post">
        <h3>
            {% trans 'Searching' %}
        </h3>
        
        <div class="post-content">
            <div id='filter-input-box'>
                <form action="" method="GET">
                    <input id="filter-input" name="q" size="40"/>
                    <input id="filter-button" type="submit" value="Search"/>
                    <span class="small">Showing <span id="filter-count">{{ place_list|length}}</span> of {{ place_list|length}} places.</span>
                </form>
            </div>
            
            <div id="all-places">
                
                <table id="box-table-a">
                    <thead>
                    	<tr>
                        	<th scope="col">{% trans 'Address' %}</th>
                            <th scope="col">{% trans 'City' %}</th>
                            <th scope="col">{% trans 'Category' %}</th>
                            <th scope="col">{% trans 'Price' %}</th>
                            <th scope="col">{% trans 'Area' %}</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% autopaginate place_list 10 %}
                        {% for place in place_list %}
                        <tr>
                            <td>{{ place.address }}</td>
                            <td>{{ place.city }}</td>
                            <td>{{ place.category }}</td>
                            <td>{{ place.price }}</td>
                            <td>{{ place.area }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                {% paginate %}
            </div>
        </div>    
    </li>
</ul>

{% endblock %}
